CREATE DATABASE bdII_visoes01

use bdII_visoes01

CREATE TABLE TB_PROPRIETARIO (
    CD_PROPRIETARIO     int NOT NULL PRIMARY KEY,
    NM_PROPRIETARIO 	varchar(50) NOT NULL,
    TELEFONE		varchar(15)
)


-- Dados de PROPRIETARIOS

INSERT INTO TB_PROPRIETARIO (CD_PROPRIETARIO, NM_PROPRIETARIO,TELEFONE)
VALUES(1,'ANA MARIA DE JESUS','3231-7867')

INSERT INTO TB_PROPRIETARIO (CD_PROPRIETARIO, NM_PROPRIETARIO,TELEFONE)
VALUES(2,'JOSE RICARDO','5673-4444')

INSERT INTO TB_PROPRIETARIO (CD_PROPRIETARIO, NM_PROPRIETARIO,TELEFONE)
VALUES(3,'PAULO SILVA','3454-1983')


CREATE TABLE TB_RACA (
    CD_RACA 		int NOT NULL PRIMARY KEY,
    NM_RACA 		varchar(50) NOT NULL,
    PORTE  	        varchar(10) NOT NULL,
    PAIS_DE_ORIGEM 	varchar(50)
)


INSERT INTO TB_RACA (CD_RACA, NM_RACA, PORTE, PAIS_DE_ORIGEM)
VALUES (1, 'PASTOR ALEMAO', 'GRANDE', 'ALEMANHA')

INSERT INTO TB_RACA (CD_RACA, NM_RACA, PORTE, PAIS_DE_ORIGEM)
VALUES (2, 'DOBERMAN', 'GRANDE', 'ALEMANHA')

INSERT INTO TB_RACA (CD_RACA, NM_RACA, PORTE, PAIS_DE_ORIGEM)
VALUES (3, 'PIT BULL', 'MEDIO', 'INGLATERRA')


CREATE TABLE TB_ANIMAL (
    CD_ANIMAL 			int NOT NULL PRIMARY KEY,
    NM_ANIMAL 			varchar(50) NOT NULL,
    SEXO		 	varchar(1) NOT NULL,
    DT_NASCIMENTO		datetime,
    CD_RACA			int      NOT NULL REFERENCES TB_RACA (CD_RACA),
    CD_PROPRIETARIO		int      NOT NULL REFERENCES TB_PROPRIETARIO (CD_PROPRIETARIO)
)


-- Dados de Animais

INSERT INTO TB_ANIMAL (CD_ANIMAL, NM_ANIMAL, SEXO, DT_NASCIMENTO, CD_RACA, CD_PROPRIETARIO)
VALUES (1, 'ROSSI', 'M', '20120812', 3, 1)

INSERT INTO TB_ANIMAL (CD_ANIMAL, NM_ANIMAL, SEXO, DT_NASCIMENTO, CD_RACA, CD_PROPRIETARIO)
VALUES (2, 'RAMBO', 'M', '20140701', 2, 1)

INSERT INTO TB_ANIMAL (CD_ANIMAL, NM_ANIMAL, SEXO, DT_NASCIMENTO, CD_RACA, CD_PROPRIETARIO)
VALUES (3, 'DOLLY', 'F', '20180315', 1, 1)

INSERT INTO TB_ANIMAL (CD_ANIMAL, NM_ANIMAL, SEXO, DT_NASCIMENTO, CD_RACA, CD_PROPRIETARIO)
VALUES (4, 'NEMO', 'M', '20160102', 1, 2)


CREATE TABLE TB_CONSULTA (
    CD_CONSULTA 		int NOT NULL,
    CD_ANIMAL			int NOT NULL,
    DT_CONSULTA			datetime NOT NULL,
    VALOR			numeric(15,2) NOT NULL,
    DS_CONSULTA			varchar(1000),
    DT_PROXIMA_CONSULTA		datetime,
    DS_PROXIMA_CONSULTA		varchar(1000)
)

ALTER TABLE TB_CONSULTA ADD CONSTRAINT PK_CONSULTA
PRIMARY KEY (CD_CONSULTA)

ALTER TABLE TB_CONSULTA ADD CONSTRAINT FK_CONSULTA_ANIMAL
FOREIGN KEY (CD_ANIMAL) REFERENCES TB_ANIMAL(CD_ANIMAL)

-- Dados de Consultas


INSERT INTO TB_CONSULTA (CD_CONSULTA, CD_ANIMAL, DT_CONSULTA, VALOR ,
                      DS_CONSULTA, DT_PROXIMA_CONSULTA, DS_PROXIMA_CONSULTA)
VALUES(1,1,'20201019', 30.00, 'PRIMEIRA CONSULTA',NULL, NULL)


INSERT INTO TB_CONSULTA (CD_CONSULTA, CD_ANIMAL, DT_CONSULTA, VALOR ,
                      DS_CONSULTA, DT_PROXIMA_CONSULTA, DS_PROXIMA_CONSULTA)
VALUES(2,1,'20211123', 60.00, 'PRIMEIRAS VACINAS',NULL, NULL)


INSERT INTO TB_CONSULTA (CD_CONSULTA, CD_ANIMAL, DT_CONSULTA, VALOR ,
                      DS_CONSULTA, DT_PROXIMA_CONSULTA, DS_PROXIMA_CONSULTA)
VALUES(3,2,'20200624', 30.00, 'PRIMEIRA CONSULTA',NULL, NULL)


INSERT INTO TB_CONSULTA (CD_CONSULTA, CD_ANIMAL, DT_CONSULTA, VALOR ,
                      DS_CONSULTA, DT_PROXIMA_CONSULTA, DS_PROXIMA_CONSULTA)
VALUES(4,2,'20210715', 60.00, 'PRIMEIRAS VACINAS',NULL, NULL)


SELECT * FROM TB_PROPRIETARIO
SELECT * FROM TB_RACA
SELECT * FROM TB_ANIMAL
SELECT * FROM TB_CONSULTA







